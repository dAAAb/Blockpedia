---
description: 想像一個國家要改用新版護照。
---

# 硬分叉
> **最後更新：2026 年 1 月**


## 硬分叉（Hard Fork）是區塊鏈的「革命性升級」——新舊版本不相容，必須分家。如果不是所有人都升級，區塊鏈就會一分為二，各走各的路。

想像一個國家要改用新版護照。

如果新護照設計完全不同，舊護照持有人就出不了國。

每個人都**必須**換新護照，沒有過渡期。

這就是硬分叉。

### 什麼是「分叉」？

區塊鏈是一條由區塊串成的「鏈」。

「分叉」就是這條鏈分成了兩條。

```
      區塊 100
         │
    ┌────┴────┐
    │         │
區塊 101A   區塊 101B
    │         │
   ...       ...
```

**暫時的分叉**很正常——兩個礦工同時挖到區塊時會發生，網路很快會選擇一條繼續。

但**永久的分叉**是大事——區塊鏈從此一分為二，變成兩個獨立的網路。

硬分叉，就是會導致永久分叉的升級方式。

### 硬分叉 vs 軟分叉

| 特性 | 硬分叉 | 軟分叉 |
|------|--------|--------|
| 向後相容 | ❌ 不相容 | ✅ 相容 |
| 升級要求 | 所有節點必須升級 | 只需多數礦工升級 |
| 規則變化 | 放寬規則或重大變更 | 收緊規則 |
| 分裂風險 | 高（可能產生新幣）| 低 |

**簡單記法**：

- **硬分叉**：新版本做的事，舊版本看不懂
- **軟分叉**：新版本做的事，舊版本還是看得懂

### 為什麼需要硬分叉？

有些改變太大了，沒辦法「溫和地」升級。

**常見原因：**

1. **增加區塊大小**
   - 舊版本：最大 1MB
   - 新版本：最大 8MB
   - 舊節點會拒絕新的大區塊 → 不相容

2. **改變共識機制**
   - 從 PoW 改成 PoS
   - 舊礦工挖的區塊不被新系統承認

3. **修復重大漏洞**
   - 有時候唯一的修復方式是「回滾」歷史
   - 這違反區塊鏈不可竄改的原則

4. **社群意見分裂**
   - 一方想改，一方不想改
   - 乾脆分家，各做各的

### 歷史上的硬分叉

#### 以太坊分裂：ETH vs ETC

2016 年，以太坊上的 The DAO 被駭客攻擊，360 萬 ETH 被盜。

社群面臨選擇：

- **選項 A**：接受損失，保持區塊鏈不可竄改
- **選項 B**：硬分叉，「回滾」那筆交易，把錢還給受害者

結果：社群分裂了。

| 分支 | 選擇 | 結果 |
|------|------|------|
| 以太坊（ETH）| 選 B，硬分叉回滾 | 成為主流 |
| 以太坊經典（ETC）| 選 A，維持原狀 | 作為「原版」繼續存在 |

{% hint style="warning" %}
這次分叉觸及了區塊鏈的核心問題：不可竄改是絕對原則，還是可以為了「正義」而打破？至今仍有爭議。
{% endhint %}

#### 比特幣現金：BTC vs BCH

2017 年，比特幣社群對「如何擴容」產生分歧。

- **小區塊派**：保持 1MB，用 Layer 2（閃電網路）解決
- **大區塊派**：直接增加區塊大小到 8MB

兩派談不攏，2017 年 8 月 1 日，比特幣硬分叉。

| 分支 | 區塊大小 | 理念 |
|------|----------|------|
| 比特幣（BTC）| 1MB（後來 SegWit 有效增加）| 保守升級，Layer 2 擴容 |
| 比特幣現金（BCH）| 8MB → 32MB | 鏈上擴容，大區塊 |

**後續又分裂**：BCH 後來又分叉出 BSV（Bitcoin SV），因為對區塊大小和方向又有分歧。

{% hint style="info" %}
如果你在 2017 年 8 月 1 日前持有比特幣，分叉後你會同時擁有 BTC 和 BCH——因為兩條鏈共享分叉前的歷史。
{% endhint %}

### 硬分叉的流程

```
1. 提案
   │  開發者提出升級計畫（如 EIP、BIP）
   │
2. 討論
   │  社群辯論、測試、修改
   │
3. 設定分叉高度
   │  「從區塊 #12,345,678 開始，使用新規則」
   │
4. 節點升級
   │  所有節點必須在分叉前更新軟體
   │
5. 分叉發生
   │  舊節點繼續舊規則，新節點使用新規則
   │
6. 結果
   ├── 所有人都升級 → 平滑過渡
   └── 部分人不升級 → 區塊鏈分裂
```

### 分叉後的幣怎麼辦？

當硬分叉導致區塊鏈分裂時：

**你原本的幣會「分身」**——在兩條鏈上各有一份。

```
分叉前：你有 1 BTC

分叉後：
├── BTC 鏈上：你有 1 BTC
└── BCH 鏈上：你有 1 BCH
```

**但要注意：**

1. **重放攻擊風險**：如果兩條鏈的交易格式相同，你在一條鏈上的交易可能被「重放」到另一條鏈
2. **需要分離幣**：通常要用特殊工具把兩條鏈上的幣分開
3. **交易所處理**：大交易所通常會幫你處理，但要看公告

### 硬分叉的爭議

**支持者說：**

- 這是民主——社群可以「用腳投票」
- 創新需要自由——不同願景可以各自發展
- 市場會決定誰對誰錯

**反對者說：**

- 分裂削弱網路效應
- 混淆用戶（BTC、BCH、BSV 誰是「真的」比特幣？）
- 可能被用來炒作或套利

### 有計畫的硬分叉

不是所有硬分叉都會導致分裂。

**以太坊的升級策略**就是「有計畫的硬分叉」：

每次重大升級（Berlin、London、Shanghai...）都是硬分叉，但因為社群高度共識，幾乎所有節點都會升級，不會產生新幣。

{% hint style="success" %}
以太坊從 PoW 到 PoS 的「The Merge」是史上最大的硬分叉之一，但因為準備充分、社群共識高，平滑完成，沒有產生有價值的分裂幣。
{% endhint %}

### 如何應對硬分叉？

**對一般用戶：**

1. 關注官方公告
2. 在分叉前確保幣在**你控制私鑰的錢包**中
3. 分叉後不要急著交易，等確認安全
4. 如果產生新幣，了解如何分離和出售

**對開發者/節點營運者：**

1. 測試新版本軟體
2. 準備升級計畫
3. 在分叉高度前完成升級
4. 監控網路狀態

{% hint style="danger" %}
如果你的幣在交易所或託管錢包中，分叉幣是否給你取決於平台政策。有些平台會給，有些不會。務必查看平台公告。
{% endhint %}

---

#### 相關條目

- [軟分叉](soft-fork.md)
- [The DAO 事件](../events/the-dao.md)
- [比特幣現金](../token/bi-te-jin-1.md)
- [以太坊經典](../token/yi-tai-dian.md)

