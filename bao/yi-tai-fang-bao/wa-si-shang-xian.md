# 燃料上限

**燃料上限（英文：Gas Limit）**指的是一筆交易當中，發起交易者願意付出的燃料費用上限。這個燃料上限的單位只是個數值單位，還要再乘上燃料價格（Gas Price）才會是總交易費用（Total TX Cost）亦即總燃料費。

在「[燃料](wa-si.md)」條目裡我們提過，燃料就是「每筆交易運算所需要的算力費用」，燃料費用單價（Gas Price）越高，可買的算力越多，優先次序也越高，交易速度就越快。這是一種很棒的去中心化設計，讓每個人能決定自己這筆交易能等還是不能等。

此外，為了避免某個交易（或者有問題的交易）不斷燃燒算力，把發出交易者錢包裡的以太幣都燃燒殆盡，因此以太坊建構了「燃料上限」的設計，讓發起交易者，能夠設定一個燃料費用上限，讓交易完成時，從錢包裡頭一起扣款。

### 多退少不補！

就像寶老闆吩咐秘書去銀行轉帳，對秘書說「給你兩千塊，幫我完成這件事，多退少補！」燃料上限也是類似這樣，只不過差異在於，以太坊的燃料一旦在送出交易的時候預設好，萬一燃料用完了，任務（計算）還沒完成，這燃料費可是**多退少不能補**的喔！

要是運算步數所消耗的燃料（算力總價）超過預付的燃料上限金額，那麼你預付出去的燃料費是收不回來的，因為礦工還是替你工作了，只是沒有 "完成工作" 而已。交易會失敗，而且無法記錄上鏈。

所以，以太坊區塊鏈系統很貼心的設計了一個機制，讓交易者每次發起交易的時候，系統都會協助推估這筆交易所需要的燃料上限，使用者可再依據交易速度需求，設定燃料價格。

— 就係交易中 Gas 既上限，亦即係你既交易運算最多會被運算幾多步。由於交易複雜程度各有不同，Gas 係要係完成交易後先會知道，而用家係發出交易之前，會為交易設定一個 Gas 既上限。

如果係交易尚未完成，消耗既Gas 就已經超過用家設定既 Gas Limit，咁交易就會被取消，而所消耗既手續費會同樣被扣取，用作獎勵礦工。而如果交易已經完成，而消耗既Gas 未觸及 Gas Limit，咁只有實際消耗既 Gas 先會計錢。換句話，交易入面最高會被收取既手續費就係 Gas Limit \* Gas Price 了。

最後值得一提既係 Gas Price 越高，你所提出既交易會越快被礦工接納。但係正常用家又唔想俾咁多手續費，咁究竟 set 幾多先可以係正常時間 \(eg 10 mins\)，確保交易被接納到區域鏈呢？呢個網站就可以幫到你。寫呢篇文既時候，1 Gwei 既 Gas Price 就可以確保交易係 50 秒左右被接納。

