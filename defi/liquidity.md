# 流動性（Liquidity）

### 流動性是指資產能夠快速、低成本地買賣的程度。在 DeFi 中，流動性決定了你的交易體驗——流動性越好，滑點越低，價格越公平。

---

## 什麼是流動性？

想像你要賣一棟房子和賣一張百元鈔票：

| 資產 | 流動性 | 原因 |
|------|--------|------|
| 百元鈔票 | 極高 | 隨時都有人要，價格固定 |
| 房子 | 較低 | 找買家要時間，價格要談判 |

**流動性高**意味著：
- 買賣快速
- 價格穩定
- 交易成本低

**流動性低**意味著：
- 買賣困難
- 價格波動大
- 可能有大幅滑點

---

## 在加密貨幣中的流動性

### 中心化交易所

在傳統交易所（如幣安），流動性來自「訂單簿」：

- 買家掛買單：「我想用 $1000 買 ETH」
- 賣家掛賣單：「我想用 $1010 賣 ETH」
- 當價格匹配，交易成交

訂單簿越厚、買賣價差越小，流動性越好。

### 去中心化交易所

[DEX](dex/) 使用不同的機制——**流動性池**（Liquidity Pool）。

---

## 流動性池如何運作？

流動性池是 DeFi 的核心創新。以 [Uniswap](dex/uniswap.md) 為例：

### 基本概念

1. 流動性提供者（LP）把兩種代幣（如 ETH + USDC）存入池子
2. 交易者從池子中交換代幣
3. LP 獲得交易手續費作為回報

### 定價機制：恆定乘積

```
x × y = k
```

- x = 池中代幣 A 的數量
- y = 池中代幣 B 的數量
- k = 常數（乘積保持不變）

當你用 A 換 B：
- 池中 A 增加
- 池中 B 減少
- 價格自動調整

{% hint style="info" %}
**為什麼這樣設計？**

傳統訂單簿需要買賣雙方同時在場。流動性池讓「池子」成為你的交易對手——隨時都可以交易。
{% endhint %}

---

## 滑點（Slippage）

滑點是你預期的價格和實際成交價格的差距。

### 滑點產生的原因

當你交易的金額相對於池子很大時：
- 你的交易會大幅改變池中代幣比例
- 導致後續交易的價格越來越差

**例子**：

池子有 100 ETH + 200,000 USDC
- 你想買 10 ETH（池子的 10%）
- 價格會從 $2000 滑到更高

### 如何減少滑點？

1. **選擇流動性更好的池子**
2. **分批交易** — 大單拆成小單
3. **使用聚合器** — 如 1inch，自動找最佳路徑
4. **設定滑點容忍度** — 超過就取消交易

---

## 無常損失（Impermanent Loss）

提供流動性的風險之一是「無常損失」。

### 什麼是無常損失？

當你存入池子的兩種代幣價格比例改變時，你的資產價值可能比單純持有還少。

### 簡單例子

你存入：1 ETH + 2000 USDC（當時 ETH = $2000）

如果 ETH 漲到 $4000：
- 單純持有：1 ETH + 2000 USDC = $6000
- 在池中：因為套利者的行為，你的份額變成約 0.7 ETH + 2800 USDC = $5600

**差額 $400 就是無常損失。**

### 為什麼叫「無常」？

如果 ETH 價格回到 $2000，損失會消失。只有當你提領時價格仍然偏離，損失才會「成真」。

---

## 流動性提供者（LP）的收益來源

作為 LP，你的收益可能來自：

| 來源 | 說明 |
|------|------|
| 交易手續費 | 每筆交易的 0.3% 左右分給 LP |
| 流動性挖礦獎勵 | 協議發放的代幣獎勵 |
| 協議收入分成 | 部分協議會分享收入 |

### LP 是否划算？

這取決於：
- 手續費收入是否能彌補無常損失
- 額外獎勵有多少
- 代幣價格波動程度

{% hint style="success" %}
**經驗法則**

波動性低的交易對（如 USDC/USDT）無常損失風險低，但手續費收入也較少。

波動性高的交易對（如 ETH/新代幣）可能有高收益，但無常損失風險大。
{% endhint %}

---

## 流動性在 DeFi 中的重要性

### 對交易者

流動性好 = 更好的價格、更低的滑點

### 對協議

流動性是 DeFi 協議的生命線。沒有流動性：
- DEX 無法提供好的交易體驗
- 借貸協議無法正常清算
- 穩定幣無法維持錨定

### 對整個生態系

流動性是 DeFi 可組合性的基礎。各個協議能夠互相連接，是因為有足夠的流動性支撐。

---

## 流動性的衡量指標

| 指標 | 說明 |
|------|------|
| TVL | 總鎖倉價值，池中資產總值 |
| 交易量 | 每日/每週交易額 |
| 深度 | 造成 2% 滑點需要多大的交易額 |
| 買賣價差 | 買入和賣出價格的差距 |

---

## 流動性相關的創新

### 集中流動性（Uniswap V3）

傳統流動性池把資金分散在整個價格範圍。Uniswap V3 讓 LP 可以選擇特定價格區間，提高資金效率。

### 流動性即服務（LaaS）

如 Olympus DAO 的協議擁有流動性（Protocol Owned Liquidity）模式，讓協議自己擁有流動性，不依賴外部 LP。

### 動態手續費

根據市場波動自動調整手續費，在高波動時收更多手續費保護 LP。

---

## 總結

{% hint style="success" %}
**流動性的核心概念**

1. **流動性**決定交易品質——越多越好
2. **流動性池**是 DeFi 的核心創新
3. **無常損失**是 LP 的主要風險
4. **滑點**是流動性不足的直接體現

理解流動性，是理解 DeFi 運作的關鍵。
{% endhint %}

---

## 延伸閱讀

- [DeFi 總覽](README.md) — 去中心化金融基礎
- [Uniswap](dex/uniswap.md) — 最大的 DEX
- [Curve Finance](dex/curve.md) — 穩定幣流動性專家
- [流動性挖礦](yield-farming.md) — 如何透過提供流動性賺錢
