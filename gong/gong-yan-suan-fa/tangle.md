---
description: Tangle 是 IOTA 使用的 DAG（有向無環圖）結構，不同於傳統區塊鏈，理論上可達到更高的吞吐量。
---

# Tangle

### 區塊鏈是一條鏈——每個區塊連接前一個區塊。但 Tangle 是一張網——每筆交易連接多筆之前的交易。這種結構理論上更快、免手續費，但也有自己的挑戰。

---

## 什麼是 Tangle？

| 概念 | 說明 |
|------|------|
| 定義 | 有向無環圖（DAG）結構 |
| 創建者 | IOTA Foundation |
| 特點 | 不是傳統區塊鏈 |
| 目標 | 物聯網微交易 |

---

## Tangle vs 區塊鏈

### 結構比較

```
區塊鏈結構：
┌─────┐   ┌─────┐   ┌─────┐   ┌─────┐
│區塊1│ → │區塊2│ → │區塊3│ → │區塊4│
└─────┘   └─────┘   └─────┘   └─────┘
（線性、一次一個區塊）

Tangle 結構：
    交易A ─┐
           ├─→ 交易D ─┐
    交易B ─┤          ├─→ 交易F
           └─→ 交易E ─┘
    交易C ─────────────────→ 交易G
（網狀、多筆交易可同時確認）
```

### 差異

| 比較 | 區塊鏈 | Tangle |
|------|--------|--------|
| 結構 | 線性鏈 | 有向無環圖 |
| 確認方式 | 礦工/驗證者 | 新交易確認舊交易 |
| 手續費 | 有 | 無 |
| 擴展性 | 受限 | 理論上更好 |
| 成熟度 | 高 | 較低 |

---

## 運作原理

### 交易確認

```
Tangle 的運作方式：

1. 發送新交易時，必須確認兩筆舊交易
2. 選擇哪兩筆？隨機選擇「尖端」（未確認交易）
3. 驗證這兩筆交易的合法性
4. 做少量工作量證明
5. 廣播自己的交易

示意圖：
新交易 → 確認交易 A
       → 確認交易 B
       → 做少量 PoW
       → 成為新的「尖端」
```

### 尖端選擇

| 概念 | 說明 |
|------|------|
| 尖端（Tips）| 尚未被確認的交易 |
| 選擇算法 | 隨機漫步選擇 |
| 目的 | 確保公平確認 |

{% hint style="info" %}
**為什麼要確認兩筆？**

每筆新交易確認兩筆舊交易，形成網狀結構。這樣交易越多，確認速度越快——理論上實現「越用越快」。
{% endhint %}

---

## 優缺點

### 優點

| 優點 | 說明 |
|------|------|
| 免手續費 | 適合微交易 |
| 理論上更快 | 交易可平行確認 |
| 節能 | PoW 量很小 |
| 適合物聯網 | 大量小交易 |

### 缺點

| 缺點 | 說明 |
|------|------|
| 需要協調器 | 目前仍需中心節點 |
| 安全性爭議 | 理論尚未完全驗證 |
| 交易量少時不安全 | 需要足夠的交易量 |
| 複雜性高 | 實作難度大 |

---

## IOTA 的協調器

### 中心化爭議

```
IOTA 的協調器問題：

現狀：
- IOTA 運行一個「協調器」節點
- 定期發布「里程碑」確認交易
- 沒有協調器，網路不安全

計劃：
- Coordicide 計劃移除協調器
- 實現完全去中心化
- 仍在開發中

爭議：
- 有協調器就不是真正去中心化
- 移除後能否維持安全？
```

{% hint style="warning" %}
**協調器的存在**

目前 IOTA 仍依賴協調器運作。這意味著 IOTA Foundation 可以停止網路。完全去中心化版本（Coordicide）仍在開發。
{% endhint %}

---

## 物聯網應用

### 設計目標

| 應用 | 說明 |
|------|------|
| 機器對機器支付 | 設備自動付款 |
| 資料市場 | 感測器資料交易 |
| 供應鏈追蹤 | 商品流向記錄 |
| 智慧城市 | 城市基礎設施 |

### 為什麼適合物聯網？

```
物聯網的需求：

- 大量設備（數十億）
- 頻繁的小額交易
- 低功耗設備
- 免手續費

傳統區塊鏈的問題：
- 手續費太高
- 速度太慢
- 功耗太大

Tangle 的優勢：
- 免手續費
- 理論上可擴展
- 輕量級 PoW
```

---

## 其他 DAG 項目

| 項目 | DAG 類型 | 特點 |
|------|----------|------|
| IOTA | Tangle | 物聯網導向 |
| Nano | Block-lattice | 即時交易、免費 |
| Hedera | Hashgraph | 企業導向 |
| Fantom | DAG+區塊鏈 | DeFi 導向 |

---

## 延伸閱讀

- [共識演算法](README.md) — 演算法總覽
- [共識機制](../README.md) — 共識總覽
- [工作量證明](../gong-zuo-liang-ming.md) — 對比 PoW

---

#### 參考資料

- [IOTA 白皮書](https://www.iota.org/foundation/research-papers)
- [Tangle 技術說明](https://wiki.iota.org/)

